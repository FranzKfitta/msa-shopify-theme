{% schema %}
{
  "name": "Image Banner Grid",
  "settings": [
    {
      "type": "header",
      "content": "Block 1"
    },
    {
      "type": "image_picker",
      "id": "image_1",
      "label": "Image 1"
    },
    {
      "type": "text",
      "id": "heading_1",
      "label": "Heading 1",
      "default": "Collaboration"
    },
    {
      "type": "url",
      "id": "link_1",
      "label": "Link 1"
    },
    {
      "type": "header",
      "content": "Block 2"
    },
    {
      "type": "image_picker",
      "id": "image_2",
      "label": "Image 2"
    },
    {
      "type": "text",
      "id": "heading_2",
      "label": "Heading 2",
      "default": "New arrivals"
    },
    {
      "type": "url",
      "id": "link_2",
      "label": "Link 2"
    },
    {
      "type": "header",
      "content": "Section Settings"
    },
    {
      "type": "range",
      "id": "padding_top",
      "label": "Padding Top",
      "min": 0,
      "max": 100,
      "step": 4,
      "default": 40
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "label": "Padding Bottom",
      "min": 0,
      "max": 100,
      "step": 4,
      "default": 40
    }
  ],
  "presets": [
    {
      "name": "Image Banner Grid"
    }
  ]
}
{% endschema %}

{%- liquid
  assign padding_top = section.settings.padding_top | default: 40
  assign padding_bottom = section.settings.padding_bottom | default: 40
-%}

<section class="w-full" style="padding-top: {{ padding_top }}px; padding-bottom: {{ padding_bottom }}px;" data-section-id="{{ section.id }}">
  <div class="flex flex-col md:flex-row gap-4 px-4 md:px-6">
    <!-- Block 1 -->
    {%- if section.settings.image_1 != blank or section.settings.heading_1 != blank -%}
      <div class="flex-1 relative">
        {%- if section.settings.link_1 != blank -%}
          <a href="{{ section.settings.link_1 }}" class="block w-full">
        {%- else -%}
          <div class="block w-full">
        {%- endif -%}
          <div class="relative w-full overflow-hidden" style="aspect-ratio: 0.6666666666666666;">
            {%- if section.settings.image_1 != blank -%}
              <img
                src="{{ section.settings.image_1 | image_url: width: 1200 }}"
                srcset="{{ section.settings.image_1 | image_url: width: 600 }} 600w,
                        {{ section.settings.image_1 | image_url: width: 900 }} 900w,
                        {{ section.settings.image_1 | image_url: width: 1200 }} 1200w"
                sizes="(max-width: 768px) 100vw, 50vw"
                alt="{{ section.settings.heading_1 | escape }}"
                class="w-full h-full object-cover"
                loading="lazy"
                width="{{ section.settings.image_1.width }}"
                height="{{ section.settings.image_1.height }}"
              >
            {%- else -%}
              <div class="w-full h-full bg-gray-200 flex items-center justify-center">
                <span class="text-gray-400 text-sm">Image 1</span>
              </div>
            {%- endif -%}
            
            <!-- Heading -->
            {%- if section.settings.heading_1 != blank -%}
              <div class="absolute inset-0 flex items-center justify-center pointer-events-none">
                <h2 class="text-2xl font-light text-black image-banner-heading">
                  {{ section.settings.heading_1 }}
                </h2>
              </div>
            {%- endif -%}
          </div>
        {%- if section.settings.link_1 != blank -%}
          </a>
        {%- else -%}
          </div>
        {%- endif -%}
      </div>
    {%- endif -%}

    <!-- Block 2 -->
    {%- if section.settings.image_2 != blank or section.settings.heading_2 != blank -%}
      <div class="flex-1 relative">
        {%- if section.settings.link_2 != blank -%}
          <a href="{{ section.settings.link_2 }}" class="block w-full">
        {%- else -%}
          <div class="block w-full">
        {%- endif -%}
          <div class="relative w-full overflow-hidden" style="aspect-ratio: 0.6629392971246006;">
            {%- if section.settings.image_2 != blank -%}
              <img
                src="{{ section.settings.image_2 | image_url: width: 1200 }}"
                srcset="{{ section.settings.image_2 | image_url: width: 600 }} 600w,
                        {{ section.settings.image_2 | image_url: width: 900 }} 900w,
                        {{ section.settings.image_2 | image_url: width: 1200 }} 1200w"
                sizes="(max-width: 768px) 100vw, 50vw"
                alt="{{ section.settings.heading_2 | escape }}"
                class="w-full h-full object-cover"
                loading="lazy"
                width="{{ section.settings.image_2.width }}"
                height="{{ section.settings.image_2.height }}"
              >
            {%- else -%}
              <div class="w-full h-full bg-gray-200 flex items-center justify-center">
                <span class="text-gray-400 text-sm">Image 2</span>
              </div>
            {%- endif -%}
            
            <!-- Heading -->
            {%- if section.settings.heading_2 != blank -%}
              <div class="absolute inset-0 flex items-center justify-center pointer-events-none">
                <h2 class="text-2xl font-light text-black image-banner-heading">
                  {{ section.settings.heading_2 }}
                </h2>
              </div>
            {%- endif -%}
          </div>
        {%- if section.settings.link_2 != blank -%}
          </a>
        {%- else -%}
          </div>
        {%- endif -%}
      </div>
    {%- endif -%}
  </div>
</section>